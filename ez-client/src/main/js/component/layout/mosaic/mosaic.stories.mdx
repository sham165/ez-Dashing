import {Anchor, Props, Meta, Preview, Story} from "@storybook/addon-docs/blocks";
import {array, object, text, number, select, withKnobs} from "@storybook/addon-knobs";
import {linkTo} from '@storybook/addon-links';
import {jsxDecorator} from 'storybook-addon-jsx'

import Mosaic from "./mosaic.jsx";
import SampleItem from "./mosaic-item.demo";
import Metric from "component/scalable/metric";


<Meta 
  title="Components|Layout/Mosaic"
  parameters={{
    githubLink: "/blob/master/ez-client/src/main/js/component/layout/mosaic/mosaic.jsx"
  }}
/>


<Anchor storyId="components-layout-mosaic-mosaic--default-story" />


# Mosaic

## Props


<Props of={Mosaic} />


<Story
  decorators={[withKnobs, jsxDecorator]}
  name="dynamic"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Play with container dimension and change the number of items !"
  }}
>
  <Mosaic
    className="demo"
  >
    {new Array(select("Number of item", [1,2,3,4,5,6,7,8,9,10,12,13,14,15], 7))
        .fill(0).map((i, idx) => (
            <SampleItem key={idx} value={idx}/>
        ))
    }
  </Mosaic>
</Story>

<Story
  decorators={[withKnobs, jsxDecorator]}
  name="vertical"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Play with container dimension and change the number of items !"
  }}
>
  <Mosaic
    className="demo"
    maxRow={select("maxRow: ", [0,1,2,3,4,5,6,7,8,9,10,12,13,14,15], 2)}
    maxItemPerRow={select("maxItemPerRow: ", [1], 1)}
    enableBreakpoints={select("enableBreakpoints: ", [false, true], false)}
  >
    {new Array(select("Number of item", [0,1,2,3,4,5,6,7,8,9,10,12,13,14,15], 6))
        .fill(0).map((i, idx) => (
            <SampleItem key={idx} value={idx}/>)
        )
    }
  </Mosaic>
</Story>

<Story
  decorators={[withKnobs, jsxDecorator]}
  name="horizontal"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Play with container dimension and change the number of items !"
  }}
>
  <Mosaic
    className="demo"
    maxRow={select("maxRow: ", [1], 1)}
    maxItemPerRow={select("maxItemPerRow: ", [0,1,2,3,4,5,6,7,8,9,10,12,13,14,15], 3)}
    enableBreakpoints={select("enableBreakpoints: ", [false, true], true)}
  >
    {new Array(select("Number of item", [1,2,3,4,5,6,7,8,9,10,12,13,14,15], 4))
        .fill(0).map((i, idx) => (
            <SampleItem key={idx} value={idx}/>)
        )
    }
  </Mosaic>
</Story>


<Story
  decorators={[withKnobs, jsxDecorator]}
  name="horizontal-reverse"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Reversed item order"
  }}
>
  <Mosaic
    className="demo"
    reverseItems={true}
  >
    <SampleItem value={0}/>
    <SampleItem value={1}/>
  </Mosaic>
</Story>

<Story
  decorators={[withKnobs, jsxDecorator]}
  name="square"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Play with container dimension and change the number of items !"
  }}
>
  <Mosaic maxRow={2} maxItemPerRow={2}  className="demo">
    {new Array(select("Number of item", [1,2,3,4,5,6,7,8,9,10,12,13,14,15], 4))
        .fill(0).map((i, idx) => (
            <SampleItem key={idx} value={idx}/>)
        )
    }
  </Mosaic>
</Story>



<Story
  decorators={[withKnobs, jsxDecorator]}
  name="with-metric"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Play with container dimension and change the number of items !"
  }}
  >
  <Mosaic className="demo">
    {new Array(select("Number of item", [1,2,3,4,5,6,7,8,9,10,12,13,14,15], 2))
      .fill(0).map((i, idx) => (
        <Metric
          key={idx}
          contentImageSrc="img/thumb.svg"
          legend={`${idx}%`}
        />
      ))
    }
  </Mosaic>
</Story>


<Story
  decorators={[withKnobs, jsxDecorator]}
  name="max-items"
  parameters={{
    docs: {
      disable: true
    },
    className: "widget",
    info: "Max item is set to 1"
  }}
>
  <Mosaic
    className="demo"
    maxTotalItems={1}
  >
    <SampleItem value={0}/>
    <SampleItem value={1}/>
  </Mosaic>
</Story>
