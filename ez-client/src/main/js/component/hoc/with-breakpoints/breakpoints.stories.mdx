import {Anchor, Props, Meta, Preview, Story} from "@storybook/addon-docs/blocks";
import withBreakpoints from "./with-breakpoints";
import WithBreakpointsDemo from "./with-breakpoints.demo";
import {array, object, text, withKnobs, number, select} from "@storybook/addon-knobs";
import {linkTo} from '@storybook/addon-links'

<Meta 
  title="Components|HOC/withBreakpoints" 
  parameters={{
    githubLink: "/blob/master/ez-client/src/main/js/component/hoc/breakpoints/with-breakpoints.jsx"
  }}
/>

<Anchor storyId="components-hoc-withbreakpoints--default-story" />

# withBreakpoints HOC

This HOC encapsulate any component and add it four properties:
 - width: the current width of the dom element
 - height: the current width of the dom element
 - wBreakpointClass: the breakpoints class depending the breakpoints config
 - hBreakpointClass: the breakpoints class depending the breakpoints config

You can give the breakpoints config as the second argument

This HOC is based on the [withResizeDetector](https://github.com/maslianok/react-resize-detector)
 HOC (using ResizeObserver with a polyfill).

```jsx
const InsideComponent = ({
  width,
  height,
  wBreakpointClass,
  hBreakpointClass}) => (
  <div>
    <p>{`${width}x${height}`}</p>
    <p><strong>{`${wBreakpointClass}`}</strong></p>
    <p><strong>{`${hBreakpointClass}`}</strong></p>
  </div>
);

withBreakpoints(InsideComponent);

// or

withBreakpoints(InsideComponent, {
  width: {
   lg: 400,
   md: 200,
   sm: 100,
   xs: 50,
  },
  height: {
   lg: 400,
   md: 200,
   sm: 100,
   xs: 50,
  }
});

```

## Usage

Please got in the Canvas tab.

<Preview>
  <Story
    decorators={[withKnobs]}
    name="default"
    parameters={{
      className: "widget",
      docs: {disable: true},
      info: "You can play with the container size to see the changing breakpoints properties.",
    }}
  >
    <WithBreakpointsDemo />
  </Story>
</Preview>
