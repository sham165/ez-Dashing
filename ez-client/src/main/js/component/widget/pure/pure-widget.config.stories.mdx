import {Anchor, Props, Meta, Preview, Story} from "@storybook/addon-docs/blocks";
import PureWidget from "./pure-widget";
import {array, object, text, withKnobs, number} from "@storybook/addon-knobs";
import {linkTo} from '@storybook/addon-links'

<Meta 
  title="Configuration|Widget/Code quality"
/>

                 
<Anchor storyId="configuration-widget-pure--default-story" />


# Bug Widget

You can create this kind of widget only with a JSON configuration.



<Preview>
  <Story
    decorators={[withKnobs]}
    name="sample-1"
    parameters={{
      info: ""
    }}>
    <PureWidget
      title="Sonar metrics"
      layout="mosaic"
      dataSourceField1={42000}
      dataSourceField2={112}
      dataSourceField3={76}
      content={[{
        type: "metric",
        value: "${dataSourceField1}",
        legend: "lines"
      },{
        type: "metric",
        value: "${dataSourceField2}",
        legend: "violations",
        thresholds: {
          bad: 100,
          avg: 10,
          good: 0
        }
      },{
         type: "metric",
         value: "${dataSourceField3}",
         content: "${value}%",
         legend: "coverage",
         thresholds: {
           good: 75,
           avg: 50,
           bad: 0
         }
       }]}
    />
  </Story>
</Preview>



<Preview>
  <Story
    decorators={[withKnobs]}
    name="sample-2"
    parameters={{
      info: ""
    }}>
    <PureWidget
      title="Sonar metrics"
      layout="mosaic"
      dataSourceField1={42000}
      dataSourceField2={112}
      dataSourceField3={76}
      content={[{
        type: "metric",
        content: "aaa<br/>bbb",
        legend: "lines"
      }]}
      conditionalContent={{
        condition: "",
        content: {
          type: "metric",
          contentImageSrc: "img/happyFace.svg",
          legend: "Everything fine !"
        }
      }}
    />
  </Story>
</Preview>
